<div ng-controller="mainCtrl as ctrl">
    <div class="row">
        <div class="col-md-2 topheader">
            <div>
            <img src="../wp-content/themes/genesis-acerl/img/logo.png" alt="Logo" style="width:175px; height: 40px;">
            </div>
        </div>
        <div class="col-md-10 topheader">
            <form class="form-horizontal" name="Search" ng-submit="search(searchitem)">
                <div class="input-group">
                    <label class="sr-only" for="search">Search</label>
                    <input type="text" class="form-control search" id="search" ng-model="searchitem"
                           placeholder="Search the library"  autocomplete="off"
                           uib-typeahead="paper.value for paper in getPapersSuggest($viewValue) | filter:$viewValue | limitTo:8"
                           typeahead-loading="loadingLocations" typeahead-no-results="noResults" typeahead-on-select="onSelect($item,$model,$label)">
                    <span class="input-group-btn">
                        <button class="btn btn-sm btn-default search" type="submit" ng-click="search(searchitem)"></button>
                    </span>
                </div>
            </form>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-3 col-md-2 sidebar filter" ng-show="sidebar_hide">

            <h4>Filter by</h4>
            <ul class="nav nav-sidebar">
                <li ng-class="{clicked: setPubTime.length}">
                    <div ng-dropdown-multiselect="" options="dataPubTime" selected-model="setPubTime" checkboxes="true"
                         translation-texts="fBtnPubTime" extra-settings="fSettingPubTime">
                    </div>
                    <span class="sr-only">(current)</span></a>
                </li> <!-- class="active" kann-->
                <li ng-class="{clicked: setCat.length}">
                    <div ng-dropdown-multiselect="" options="dataCat" selected-model="setCat" checkboxes="true"
                         translation-texts="fBtnCat" extra-settings="fSettingCat"></div>
                    <span class="sr-only">(current)</span></a>
                </li>
                <li ng-class="{clicked: setKey.length}">
                    <div ng-dropdown-multiselect="" options="dataKey" selected-model="setKey" checkboxes="true"
                         translation-texts="fBtnKey" extra-settings="fSettingKey"></div>
                    <span class="sr-only">(current)</span></a>
                </li>
                <li ng-class="{clicked: setPubType.length}">
                    <div ng-dropdown-multiselect="" options="dataPubType" selected-model="setPubType" checkboxes="true"
                         translation-texts="fBtnPubType" extra-settings="fSettingPubType"></div>
                    <span class="sr-only">(current)</span></a>
                </li>
            </ul>


            <hr class="lib-link-sep" />
            <h4>Sort by</h4>
            <ul class="nav nav-sidebar">
                <li class="active">
                    <a href="" ng-click="sort('rel')">
                        <img class="imgfilter" src="../wp-content/themes/genesis-acerl/img/icon/target.svg">
                        &nbsp
                        Relevance
                        <span class="sr-only">(current)</span></a>
                </li> <!-- class="active" kann-->
                <li>
                    <a href="" ng-click="sort('time')">
                        <img class="imgfilter" src="../wp-content/themes/genesis-acerl/img/icon/calendar.svg">
                        &nbsp
                        Publication Time
                        <span class="sr-only">(current)</span></a>
                </li> <!-- class="active" kann-->
            </ul>
        </div>
        <div id="main" class="col-md-10 container container-fluid typeahead-demo main-container main body-lib">
            <ul>
                <li class="blocks paper" ng-repeat="paper in papers">
                    <div class="row">
                        <div class="col-md-11">
                            <h4 class="lib-link-name"><a id="link-74" class="track_this_link " ng-title="{{paper.title}}" ng-href="{{paper.url}}" target="_blank" rel="nofollow">{{paper.title}}</a></h4></i>
                            <div class="vertical-line">
                                <div class="author">
                                    <img class="imgauthor" src="../wp-content/themes/genesis-acerl/img/icon/people.svg">
                                    <small>
                                        <span ng-repeat="author in paper.authors">
                                          <span ng-show="!($last)">
                                          {{author}},
                                          </span>
                                        </span>
                                        <span ng-repeat="author in paper.authors">
                                          <span ng-show="$last">
                                          {{author}}
                                          </span>
                                        </span>
                                        <span ng-show="!paper.authors.length">No Author</span>
                                        <span class="publisher">
                                            <span ng-show="paper.publisher">
                                                {{paper.publisher}},&nbsp
                                            </span>
                                            {{paper.published}}
                                            <img class="imgauthor" src="../wp-content/themes/genesis-acerl/img/icon/circle_.svg">
                                        </span>
                                    </small>
                                </div>
                                <div ng-class="{abstract: paper.abstract}" ng-show="!(paper.full)">
                                    {{paper.abstract}}
                                </div>
                                <div class = "fullView-hide" ng-show="paper.full">
                                    {{paper.abstract}}
                                    <div ng-show = "paper.excerpt">
                                        Eexcerpt: {{paper.excerpt}}
                                    </div>
                                    <div ng-show = "!(paper.editors.length === 0)">
                                        Editors: {{paper.editors}}
                                    </div>
                                    <div ng-show = "paper.subtitle">
                                        Subtitle: {{paper.subtitle}}
                                    </div>
                                    <div ng-show = "paper.accessed">
                                        Accessed: {{paper.accessed}}
                                    </div>
                                    <div ng-show = "paper.volume">
                                        Volume: {{paper.volume}}
                                    </div>
                                    <div ng-show = "(!(paper.pages == 'None - None') && (paper.pages))">
                                        Pages: {{paper.pages}}
                                    </div>
                                    <div ng-show = "paper.series">
                                        Series: {{paper.series}}
                                    </div>
                                    <div ng-show = "paper.edition">
                                        Edition: {{paper.edition}}
                                    </div>
                                    &nbsp;
                                </div>
                            <br>

                            <strong>
                                  <span class="lib-link-full"><a id="link-74" class="track_this_link" style="display: none;" href="#" target="_blank">Full Text Available</a>
                                  </span>
                            </strong>
                            </div>
                            <span class="glyphicon glyphicon-menu-down more" ng-show="!(paper.full)" ng-click="onFullview($index)" aria-hidden="true"></span>
                            <span class="glyphicon glyphicon-menu-up more" ng-show="paper.full" ng-click="onFullview($index)" aria-hidden="true"></span>
                        </div>
                        <div class="col-md-1">
                            <img class="centerImage" ng-show="paper.filetype == 'html'" src="../wp-content/themes/genesis-acerl/img/icon/html.svg" alt="pdf" style="width:100px; height: 100px;" >
                            <img class="centerImage" ng-show="paper.filetype == 'pdf'" src="../wp-content/themes/genesis-acerl/img/icon/pdf.svg" alt="pdf" style="width:100px; height: 100px;" >
                        </div>
                    </div>
                    <!--more-->
                </li>
            </ul>
            <div align="center">
                <uib-pagination  boundary-links="false" total-items="totalItems" ng-model="currentPage" force-ellipses="false" max-size="maxSize" ng-change="pageChanged()" class="pagination-sm" previous-text="< Previous" next-text="Next >"></uib-pagination>
            </div>
        </div>
    </div>
</div>
