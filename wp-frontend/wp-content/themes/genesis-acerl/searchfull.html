<div ng-controller="mainCtrl as ctrl">
    <div class="row">
        <div class="col-md-2 topheader">
            <div>
                <a href="#/search">
                    <img src="../wp-content/themes/genesis-acerl/img/logo.small.png"
                         alt="Logo" class="ace-logo">
                </a>
            </div>
        </div>
        <div class="col-md-10 topheader input">
            <form class="form-horizontal" name="Search" ng-submit="search(searchitem)">
                <div class="input-group">
                    <label class="sr-only" for="search">Search</label>
                    <input type="text" class="form-control search" id="search" ng-model="searchitem"
                           placeholder="Search the library"  autocomplete="off"
                           uib-typeahead="paper.value for paper in getPapersSuggest($viewValue) | filter:$viewValue | limitTo:8"
                           typeahead-loading="loadingLocations" typeahead-no-results="noResults"
                           typeahead-on-select="onSelect($item,$model,$label)" typeahead-focus-first="false">
                    <span class="input-group-btn">
                        <button class="btn btn-sm btn-default search" type="submit" ng-click="search(searchitem)"></button>
                    </span>
                </div>
            </form>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-3 col-md-2 sidebar filter" ng-show="sidebar_hide">

            <h4 class="titel">Filter by</h4>
            <ul class="nav nav-sidebar">
                <li ng-class="{clicked: setCat.length}">
                    <a href="" ng-click="showSlider()">
                        <img class="imgfilter" ng-src="../wp-content/themes/genesis-acerl/img/icon/clock.svg" src="../wp-content/themes/genesis-acerl/img/icon/clock.svg">&nbsp; Publication Time
                    </a>
                    <div class="wslider" ng-show="slider.show">
                        <rzslider
                                rz-slider-model="slider.min"
                                rz-slider-high="slider.max"
                                rz-slider-options="slider.options"></rzslider>
                    </div>
                </li>
                <li ng-class="{clicked: setCat.length}">
                    <div ng-dropdown-multiselect="" options="filter.Cat" selected-model="setFilter.Cat" checkboxes="true"
                         translation-texts="fBtnCat" extra-settings="fSettingCat" events="eventsCat"></div>
                    <span class="sr-only">(current)</span></a>
                </li>
                <li ng-class="{clicked: setKey.length}">
                    <div ng-dropdown-multiselect="" options="filter.Key" selected-model="setFilter.Key" checkboxes="true"
                         translation-texts="fBtnKey" extra-settings="fSettingKey" events="eventsKey"></div>
                    <span class="sr-only">(current)</span></a>
                </li>
                <li class="ptype" ng-class="{clicked: setPubType.length}">
                    <div ng-dropdown-multiselect="" options="filter.PubType" selected-model="setFilter.PubType" checkboxes="true"
                         translation-texts="fBtnPubType" extra-settings="fSettingPubType" events="eventsPubType"></div>
                    <span class="sr-only">(current)</span></a>
                </li>
            </ul>


            <hr class="lib-link-sep" />
            <h4 class="titel">Sort by</h4>
            <ul class="nav nav-sidebar">
                <li class="active">
                    <a href="" ng-click="sort('relevance')">
                        <img class="imgfilter" src="../wp-content/themes/genesis-acerl/img/icon/target.svg">
                        Relevance
                        <span class="sr-only">(current)</span></a>
                </li> <!-- class="active" kann-->
                <li>
                    <a href="" ng-click="sort('date')">
                        <img class="imgfilter" src="../wp-content/themes/genesis-acerl/img/icon/calendar.svg">
                        Publication Time
                        <span class="sr-only">(current)</span></a>
                </li> <!-- class="active" kann-->
            </ul>
        </div>
        <div id="main" class="col-md-10 container container-fluid typeahead-demo main-container main body-lib">
            <ul>
                <li class="blocks paper" ng-repeat="paper in papers">
                    <div class="row">
                        <h4 class="lib-link-name titel"><a id="link-74" class="track_this_link " ng-title="{{paper.title}}" ng-href="{{paper.url}}" target="_blank" rel="nofollow">{{paper.title}}</a></h4></i>
                        <div class="col-md-11">
                            <div class="vertical-line artikel-font">
                                <div class="author">
                                    <img class="imgauthor" src="../wp-content/themes/genesis-acerl/img/icon/people.svg">
                                    <small>
                                        <span ng-repeat="author in paper.authors">
                                          <span ng-show="!($last)">
                                          {{author}},
                                          </span>
                                        </span>
                                        <span ng-repeat="author in paper.authors">
                                          <span ng-show="$last">
                                          {{author}}
                                          </span>
                                        </span>
                                        <span ng-show="!paper.authors.length">No Author</span>
                                        &nbsp;
                                        <span class="glyphicon glyphicon-file page" ng-show="{{paper.pages}}"
                                              aria-hidden="true">{{paper.pages}}&nbsp;</span>
                                        <span class="glyphicon glyphicon-book page" ng-show="{{paper.volume}}"
                                              aria-hidden="true">{{paper.volume}}</span>
                                        <span class="publisher">
                                            <span ng-show="paper.publisher">
                                                {{paper.publisher}},
                                            </span>
                                            {{paper.published}}
                                            <img class="imgauthor" src="../wp-content/themes/genesis-acerl/img/icon/circle.svg">
                                        </span>
                                    </small>
                                </div>
                                <div ng-class="{abstract: paper.abstract}" ng-show="(!(paper.full) && !(searchitem))">
                                    {{paper.abstract}}
                                </div>
                                <div class="excerpt" ng-class="{excerpt: paper.excerpt}" ng-show="(!(paper.full) && (searchitem))"
                                     ng-bind-html="paper.excerpt | safe">
                                </div>
                                <div class="fullView-hide" ng-show="paper.full">
                                    <div class="excerpt" ng-show="paper.excerpt"
                                         ng-bind-html="paper.excerpt | safe">
                                    </div>
                                    <div class="row">
                                        <div class="col-md-8 abstr">
                                            <div class="abstr-truncate" ng-show="paper.abstract">
                                                {{paper.abstract}}
                                            </div>
                                            <div ng-show="!(paper.editors.length === 0)">
                                                Editors: {{paper.editors}}
                                            </div>
                                            <div ng-show="paper.subtitle">
                                                Subtitle: {{paper.subtitle}}
                                            </div>
                                            <div ng-show="paper.accessed">
                                                Accessed: {{paper.accessed}}
                                            </div>
                                            <div ng-show="paper.volume">
                                                Volume: {{paper.volume}}
                                            </div>
                                            <div ng-show="(!(paper.pages == 'None - None') && (paper.pages))">
                                                Pages: {{paper.pages}}
                                            </div>
                                            <div ng-show="paper.series">
                                                Series: {{paper.series}}
                                            </div>
                                            <div ng-show="paper.edition">
                                                Edition: {{paper.edition}}
                                            </div>
                                            <div ng-show="paper.resource_type">
                                                Resource type: <sapn class="lcase">{{paper.resource_type}}</sapn>
                                            </div>
                                            &nbsp;
                                        </div>
                                        <div class="col-md-4 review" ng-show="paper.review">
                                            <div>
                                                Review: {{paper.review}}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <br>

                                <strong>
                                  <span class="lib-link-full"><a id="link-74" class="track_this_link" style="display: none;" href="#" target="_blank">Full Text Available</a>
                                  </span>
                                </strong>
                            </div>
                            <span class="glyphicon glyphicon-menu-down more" ng-show="(!(paper.full) && (paper.abstract))"
                                  ng-click="onFullview($index)" aria-hidden="true"></span>
                            <span class="glyphicon glyphicon-menu-up more" ng-show="((paper.full) && (paper.abstract))"
                                  ng-click="onFullview($index)" aria-hidden="true"></span>
                        </div>
                        <div class="col-md-1">
                            <a ng-href="{{paper.url}}">
                                <img class="centerImage" ng-class="{centerImagewoA: !paper.abstract}" ng-show="paper.filetype == 'html'"
                                     src="../wp-content/themes/genesis-acerl/img/icon/html.svg"
                                     alt="pdf">
                                </a>
                            <a ng-href="{{paper.url}}">
                                <img class="centerImage" ng-class="{centerImagewoA: !paper.abstract}" ng-show="paper.filetype == 'pdf'"
                                     src="../wp-content/themes/genesis-acerl/img/icon/pdf.svg"
                                     alt="pdf">
                            </a>
                        </div>
                    </div>
                    <!--more-->
                </li>
            </ul>
            <div align="center">
                <ul uib-pagination  boundary-links="false" total-items="totalItems" ng-model="currentPage" force-ellipses="false" max-size="maxSize" ng-change="pageChanged()" class="pagination-sm" previous-text="< Previous" next-text="Next >"></ul>
            </div>
        </div>
    </div>
</div>
